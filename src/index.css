@import "tailwindcss";

@theme {
  --font-comic: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
}

/* --- CORE ENGINE STYLES --- */
body {
    overscroll-behavior: none;
    touch-action: none;
    font-family: var(--font-comic);
    background-color: #222;
    overflow: hidden;
    user-select: none;
    -webkit-user-select: none;
    margin: 0;
    padding: 0;
}

.game-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    background-color: #fff;
    overflow: hidden;
}

/* --- ROOM STYLES (WALLS & FLOORS) --- */
.scene {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    pointer-events: none;
}

.wall { flex: 1; position: relative; width: 100%; z-index: 1; pointer-events: auto; }
.floor {
    height: 180px; width: 100%; position: relative; z-index: 2;
    box-shadow: inset 0 10px 20px rgba(0,0,0,0.1); pointer-events: auto;
}

/* Living Room Theme */
.livingroom-wall { background-color: #FFE5D9; background-image: repeating-linear-gradient(90deg, transparent, transparent 40px, rgba(255,255,255,0.5) 40px, rgba(255,255,255,0.5) 80px); }
.livingroom-floor { background-color: #D4A373; background-image: linear-gradient(90deg, rgba(0,0,0,0.05) 2px, transparent 2px), linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px); background-size: 100px 100%, 100% 20px; }

/* Kitchen Theme */
.kitchen-wall { background-color: #E0FBFC; background-image: linear-gradient(#98c1d9 1px, transparent 1px), linear-gradient(90deg, #98c1d9 1px, transparent 1px); background-size: 40px 40px; }
.kitchen-floor { background-color: #3D5A80; background-image: linear-gradient(45deg, #293241 25%, transparent 25%, transparent 75%, #293241 75%, #293241), linear-gradient(45deg, #293241 25%, transparent 25%, transparent 75%, #293241 75%, #293241); background-size: 60px 60px; background-position: 0 0, 30px 30px; }

/* Bathroom Theme */
.bathroom-wall { background-color: #CDB4DB; background-image: radial-gradient(#FFC8DD 20%, transparent 20%); background-size: 30px 30px; }
.bathroom-floor { background-color: #A2D2FF; background-image: linear-gradient(30deg, #BDE0FE 12%, transparent 12.5%, transparent 87%, #BDE0FE 87.5%, #BDE0FE), linear-gradient(150deg, #BDE0FE 12%, transparent 12.5%, transparent 87%, #BDE0FE 87.5%, #BDE0FE), linear-gradient(30deg, #BDE0FE 12%, transparent 12.5%, transparent 87%, #BDE0FE 87.5%, #BDE0FE), linear-gradient(150deg, #BDE0FE 12%, transparent 12.5%, transparent 87%, #BDE0FE 87.5%, #BDE0FE), radial-gradient(#BDE0FE 20%, transparent 20%); background-size: 80px 140px; }

/* --- LAYERS CONTAINER --- */
#objectsLayer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 10; }

/* --- OBJECTS --- */
.game-obj {
    position: absolute; cursor: grab; user-select: none; touch-action: none;
    transition: transform 0.1s; display: flex; align-items: center; justify-content: center;
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.15)); pointer-events: auto;
}
.game-obj:active { cursor: grabbing; transform: scale(1.05) !important; z-index: 100 !important; }

/* Types & Sizes */
.type-furniture { z-index: 10; }
.type-furniture-back { z-index: 5; }
.type-item { z-index: 20; width: 50px; height: 50px; font-size: 40px; }
.type-character { z-index: 30; width: 90px; height: 140px; }
.type-wearable { z-index: 35; width: 50px; height: 50px; font-size: 35px; }

/* Fridge */
.fridge-group { perspective: 800px; }
.fridge-door { transform-origin: left; transition: transform 0.4s ease-in-out; }
.fridge-open .fridge-door { transform: rotateY(-110deg); }

/* --- UI ELEMENTS --- */
.ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 200; }

.nav-bar {
    position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.95); padding: 8px 16px; border-radius: 24px;
    display: flex; gap: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); pointer-events: auto;
    border: 4px solid #fff; z-index: 210;
}

.nav-btn {
    width: 50px; height: 50px; border-radius: 16px; border: none;
    background: #f0f0f0; cursor: pointer; font-size: 24px; transition: all 0.2s;
    display: flex; align-items: center; justify-content: center;
}
.nav-btn:hover, .nav-btn.active { background: #FFD6E0; transform: translateY(-3px); box-shadow: 0 4px 0 #FF9A9E; }

/* Catalog Modal Styles reused in DraggableDialog */

.catalog-tabs { display: flex; gap: 10px; padding: 10px; overflow-x: auto; background: #fafafa; }
.tab-btn {
    padding: 8px 16px; border-radius: 20px; background: #fff; border: 1px solid #ddd;
    font-weight: bold; font-size: 14px; white-space: nowrap; cursor: pointer;
}
.tab-btn.active { background: #FF9A9E; color: white; border-color: #FF9A9E; }

.catalog-grid {
    flex: 1; overflow-y: auto; padding: 20px;
    display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 15px;
}
.catalog-item {
    aspect-ratio: 1; background: #f8f8f8; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; border: 2px solid transparent; transition: all 0.2s;
    position: relative;
}
.catalog-item:hover { border-color: #FF9A9E; transform: scale(1.05); background: white; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
.catalog-item svg, .catalog-item div { max-width: 80%; max-height: 80%; pointer-events: none; }

/* Other UI */
.light-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(12, 12, 40, 0.6); pointer-events: none; z-index: 90; opacity: 0; transition: opacity 0.5s; }
.wall-switch { position: absolute; top: 40%; right: 10px; width: 30px; height: 50px; background: #eee; border-radius: 4px; border: 1px solid #ccc; box-shadow: 1px 1px 3px rgba(0,0,0,0.1); cursor: pointer; pointer-events: auto; z-index: 15; display: flex; justify-content: center; align-items: center; }
.wall-switch-knob { width: 10px; height: 20px; background: #fff; border: 1px solid #bbb; transition: transform 0.2s; }

.save-toast { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background: #222; color: #fff; padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: bold; opacity: 0; transition: opacity 0.5s; z-index: 400; }

/* Scenario & Thoughts */
.scenario-box { position: absolute; top: 70px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 400px; background: #fff; border: 3px solid #7209B7; border-radius: 20px; padding: 15px; z-index: 250; box-shadow: 0 10px 40px rgba(0,0,0,0.2); display: none; animation: pop 0.3s ease-out; text-align: center; }
.speech-bubble { position: absolute; background: white; border-radius: 18px; padding: 12px 18px; border: 3px solid #333; z-index: 300; max-width: 200px; box-shadow: 4px 4px 0px rgba(0,0,0,0.15); font-size: 14px; font-weight: bold; color: #333; text-align: center; pointer-events: none; animation: pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
.speech-bubble::after { content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 10px solid #333; }

@keyframes pop { 0% { transform: scale(0); opacity: 0; } 50% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(1); opacity: 1; } }
.reaction-emoji { position: absolute; font-size: 50px; animation: pop 1s forwards; z-index: 200; pointer-events: none; }
